import React, { useState } from 'react';
import cls from './sorting-select.module.scss';

export const SortingSelect = ({
  label,
  name,
  options,
  sort,
  order,
  onOrderChange = newOrder => null,
  onParamChange = newParam => null,
  className = null,
}) => {
  // const [sortOrder, setSortOrder] = useState(order);
  const [sortParam, setSortParam] = useState(sort);

  const changeHandler = param => {
    if (param === sortParam) {
      const newOrder = order === 'ASC' ? 'DESC' : 'ASC';
      // setSortOrder(sortOrder === 'ASC' ? 'DESC' : 'ASC');
      onOrderChange(newOrder);
    } else {
      // setSortOrder('ASC');
      onOrderChange('ASC');

      setSortParam(param);
      onParamChange(param);
    }
  };

  return (
    <div className={[cls.container, className].join(' ')}>
      {label && <p className={cls.title}>{label}</p>}

      <ul className={cls.list}>
        {options.map((option, index) => (
          <li className={cls.item} key={index}>
            <input
              className={cls.field}
              type={'radio'}
              name={name}
              value={option['value']}
              id={option['id']}
              checked={sortParam === option['value']}
            />
            <label className={cls.label} htmlFor={option['id']} onClick={() => changeHandler(option['value'])}>
              {option['label']}
            </label>
            {option['value'] === sortParam ? (
              order === 'ASC' ? (
                <svg
                  className={cls.icon}
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  stroke="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3.4999 13.5C3.4999 13.6326 3.44722 13.7598 3.35345 13.8536C3.25968 13.9473 3.13251 14 2.9999 14C2.86729 14 2.74011 13.9473 2.64635 13.8536C2.55258 13.7598 2.4999 13.6326 2.4999 13.5V4.70703L1.3539 5.85403C1.30741 5.90052 1.25222 5.93739 1.19148 5.96255C1.13074 5.98771 1.06564 6.00066 0.999899 6.00066C0.867123 6.00066 0.739786 5.94791 0.645899 5.85403C0.552013 5.76014 0.499268 5.6328 0.499268 5.50003C0.499268 5.36725 0.552013 5.23991 0.645899 5.14603L2.6459 3.14703L2.6529 3.14003C2.7469 3.04873 2.8731 2.99816 3.00413 2.99929C3.13517 3.00041 3.26048 3.05313 3.3529 3.14603L5.3529 5.14603C5.39939 5.19245 5.43628 5.24757 5.46146 5.30825C5.48664 5.36893 5.49963 5.43398 5.49968 5.49967C5.49972 5.56537 5.48683 5.63044 5.46173 5.69115C5.43663 5.75186 5.39982 5.80704 5.3534 5.85353C5.30698 5.90002 5.25185 5.93691 5.19117 5.96209C5.1305 5.98727 5.06545 6.00026 4.99975 6.00031C4.93406 6.00035 4.86899 5.98746 4.80828 5.96236C4.74756 5.93726 4.69239 5.90045 4.6459 5.85403L3.4999 4.70703V13.5ZM7.4999 4.00003C7.36729 4.00003 7.24011 3.94735 7.14635 3.85358C7.05258 3.75981 6.9999 3.63264 6.9999 3.50003C6.9999 3.36742 7.05258 3.24024 7.14635 3.14647C7.24011 3.05271 7.36729 3.00003 7.4999 3.00003H8.4999C8.63251 3.00003 8.75968 3.05271 8.85345 3.14647C8.94722 3.24024 8.9999 3.36742 8.9999 3.50003C8.9999 3.63264 8.94722 3.75981 8.85345 3.85358C8.75968 3.94735 8.63251 4.00003 8.4999 4.00003H7.4999ZM7.4999 7.00003C7.36729 7.00003 7.24011 6.94735 7.14635 6.85358C7.05258 6.75981 6.9999 6.63264 6.9999 6.50003C6.9999 6.36742 7.05258 6.24024 7.14635 6.14647C7.24011 6.05271 7.36729 6.00003 7.4999 6.00003H10.4999C10.6325 6.00003 10.7597 6.05271 10.8535 6.14647C10.9472 6.24024 10.9999 6.36742 10.9999 6.50003C10.9999 6.63264 10.9472 6.75981 10.8535 6.85358C10.7597 6.94735 10.6325 7.00003 10.4999 7.00003H7.4999ZM7.4999 10C7.36729 10 7.24011 9.94735 7.14635 9.85358C7.05258 9.75981 6.9999 9.63264 6.9999 9.50003C6.9999 9.36742 7.05258 9.24024 7.14635 9.14647C7.24011 9.05271 7.36729 9.00003 7.4999 9.00003H12.4999C12.6325 9.00003 12.7597 9.05271 12.8535 9.14647C12.9472 9.24024 12.9999 9.36742 12.9999 9.50003C12.9999 9.63264 12.9472 9.75981 12.8535 9.85358C12.7597 9.94735 12.6325 10 12.4999 10H7.4999ZM6.9999 12.5C6.9999 12.6326 7.05258 12.7598 7.14635 12.8536C7.24011 12.9473 7.36729 13 7.4999 13H14.4999C14.6325 13 14.7597 12.9473 14.8535 12.8536C14.9472 12.7598 14.9999 12.6326 14.9999 12.5C14.9999 12.3674 14.9472 12.2402 14.8535 12.1465C14.7597 12.0527 14.6325 12 14.4999 12H7.4999C7.36729 12 7.24011 12.0527 7.14635 12.1465C7.05258 12.2402 6.9999 12.3674 6.9999 12.5Z"
                    stroke="none"
                  />
                </svg>
              ) : (
                <svg
                  className={cls.icon}
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  stroke="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3.4999 12.5C3.4999 12.6326 3.44722 12.7598 3.35345 12.8536C3.25968 12.9473 3.13251 13 2.9999 13C2.86729 13 2.74011 12.9473 2.64635 12.8536C2.55258 12.7598 2.4999 12.6326 2.4999 12.5V3.70703L1.3539 4.85403C1.30741 4.90052 1.25222 4.93739 1.19148 4.96255C1.13074 4.98771 1.06564 5.00066 0.999899 5.00066C0.934155 5.00066 0.869055 4.98771 0.808316 4.96255C0.747576 4.93739 0.692387 4.90052 0.645899 4.85403C0.599411 4.80754 0.562535 4.75235 0.537376 4.69161C0.512217 4.63087 0.499268 4.56577 0.499268 4.50003C0.499268 4.43428 0.512217 4.36918 0.537376 4.30844C0.562535 4.2477 0.599411 4.19252 0.645899 4.14603L2.6459 2.14703L2.6529 2.14003C2.7469 2.04873 2.8731 1.99816 3.00413 1.99929C3.13517 2.00041 3.26048 2.05313 3.3529 2.14603L5.3529 4.14603C5.39939 4.19245 5.43628 4.24757 5.46146 4.30825C5.48664 4.36893 5.49963 4.43398 5.49968 4.49967C5.49972 4.56537 5.48683 4.63044 5.46173 4.69115C5.43663 4.75186 5.39982 4.80704 5.3534 4.85353C5.30698 4.90002 5.25185 4.93691 5.19117 4.96209C5.1305 4.98727 5.06545 5.00026 4.99975 5.00031C4.93406 5.00035 4.86899 4.98746 4.80828 4.96236C4.74756 4.93726 4.69239 4.90045 4.6459 4.85403L3.4999 3.70703V12.5ZM6.9999 3.50003C6.9999 3.36742 7.05258 3.24024 7.14635 3.14647C7.24011 3.05271 7.36729 3.00003 7.4999 3.00003H14.4999C14.6325 3.00003 14.7597 3.05271 14.8535 3.14647C14.9472 3.24024 14.9999 3.36742 14.9999 3.50003C14.9999 3.63264 14.9472 3.75981 14.8535 3.85358C14.7597 3.94735 14.6325 4.00003 14.4999 4.00003H7.4999C7.36729 4.00003 7.24011 3.94735 7.14635 3.85358C7.05258 3.75981 6.9999 3.63264 6.9999 3.50003ZM7.4999 6.00003C7.36729 6.00003 7.24011 6.05271 7.14635 6.14647C7.05258 6.24024 6.9999 6.36742 6.9999 6.50003C6.9999 6.63264 7.05258 6.75981 7.14635 6.85358C7.24011 6.94735 7.36729 7.00003 7.4999 7.00003H12.4999C12.6325 7.00003 12.7597 6.94735 12.8535 6.85358C12.9472 6.75981 12.9999 6.63264 12.9999 6.50003C12.9999 6.36742 12.9472 6.24024 12.8535 6.14647C12.7597 6.05271 12.6325 6.00003 12.4999 6.00003H7.4999ZM7.4999 9.00003C7.36729 9.00003 7.24011 9.05271 7.14635 9.14647C7.05258 9.24024 6.9999 9.36742 6.9999 9.50003C6.9999 9.63264 7.05258 9.75981 7.14635 9.85358C7.24011 9.94735 7.36729 10 7.4999 10H10.4999C10.6325 10 10.7597 9.94735 10.8535 9.85358C10.9472 9.75981 10.9999 9.63264 10.9999 9.50003C10.9999 9.36742 10.9472 9.24024 10.8535 9.14647C10.7597 9.05271 10.6325 9.00003 10.4999 9.00003H7.4999ZM7.4999 12C7.36729 12 7.24011 12.0527 7.14635 12.1465C7.05258 12.2402 6.9999 12.3674 6.9999 12.5C6.9999 12.6326 7.05258 12.7598 7.14635 12.8536C7.24011 12.9473 7.36729 13 7.4999 13H8.4999C8.63251 13 8.75968 12.9473 8.85345 12.8536C8.94722 12.7598 8.9999 12.6326 8.9999 12.5C8.9999 12.3674 8.94722 12.2402 8.85345 12.1465C8.75968 12.0527 8.63251 12 8.4999 12H7.4999Z"
                    stroke="none"
                  />
                </svg>
              )
            ) : (
              <svg
                className={cls.icon}
                width="16"
                height="16"
                viewBox="0 0 16 16"
                stroke="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M3.4999 13.5C3.4999 13.6326 3.44722 13.7598 3.35345 13.8536C3.25968 13.9473 3.13251 14 2.9999 14C2.86729 14 2.74011 13.9473 2.64635 13.8536C2.55258 13.7598 2.4999 13.6326 2.4999 13.5V4.70703L1.3539 5.85403C1.30741 5.90052 1.25222 5.93739 1.19148 5.96255C1.13074 5.98771 1.06564 6.00066 0.999899 6.00066C0.867123 6.00066 0.739786 5.94791 0.645899 5.85403C0.552013 5.76014 0.499268 5.6328 0.499268 5.50003C0.499268 5.36725 0.552013 5.23991 0.645899 5.14603L2.6459 3.14703L2.6529 3.14003C2.7469 3.04873 2.8731 2.99816 3.00413 2.99929C3.13517 3.00041 3.26048 3.05313 3.3529 3.14603L5.3529 5.14603C5.39939 5.19245 5.43628 5.24757 5.46146 5.30825C5.48664 5.36893 5.49963 5.43398 5.49968 5.49967C5.49972 5.56537 5.48683 5.63044 5.46173 5.69115C5.43663 5.75186 5.39982 5.80704 5.3534 5.85353C5.30698 5.90002 5.25185 5.93691 5.19117 5.96209C5.1305 5.98727 5.06545 6.00026 4.99975 6.00031C4.93406 6.00035 4.86899 5.98746 4.80828 5.96236C4.74756 5.93726 4.69239 5.90045 4.6459 5.85403L3.4999 4.70703V13.5ZM7.4999 4.00003C7.36729 4.00003 7.24011 3.94735 7.14635 3.85358C7.05258 3.75981 6.9999 3.63264 6.9999 3.50003C6.9999 3.36742 7.05258 3.24024 7.14635 3.14647C7.24011 3.05271 7.36729 3.00003 7.4999 3.00003H8.4999C8.63251 3.00003 8.75968 3.05271 8.85345 3.14647C8.94722 3.24024 8.9999 3.36742 8.9999 3.50003C8.9999 3.63264 8.94722 3.75981 8.85345 3.85358C8.75968 3.94735 8.63251 4.00003 8.4999 4.00003H7.4999ZM7.4999 7.00003C7.36729 7.00003 7.24011 6.94735 7.14635 6.85358C7.05258 6.75981 6.9999 6.63264 6.9999 6.50003C6.9999 6.36742 7.05258 6.24024 7.14635 6.14647C7.24011 6.05271 7.36729 6.00003 7.4999 6.00003H10.4999C10.6325 6.00003 10.7597 6.05271 10.8535 6.14647C10.9472 6.24024 10.9999 6.36742 10.9999 6.50003C10.9999 6.63264 10.9472 6.75981 10.8535 6.85358C10.7597 6.94735 10.6325 7.00003 10.4999 7.00003H7.4999ZM7.4999 10C7.36729 10 7.24011 9.94735 7.14635 9.85358C7.05258 9.75981 6.9999 9.63264 6.9999 9.50003C6.9999 9.36742 7.05258 9.24024 7.14635 9.14647C7.24011 9.05271 7.36729 9.00003 7.4999 9.00003H12.4999C12.6325 9.00003 12.7597 9.05271 12.8535 9.14647C12.9472 9.24024 12.9999 9.36742 12.9999 9.50003C12.9999 9.63264 12.9472 9.75981 12.8535 9.85358C12.7597 9.94735 12.6325 10 12.4999 10H7.4999ZM6.9999 12.5C6.9999 12.6326 7.05258 12.7598 7.14635 12.8536C7.24011 12.9473 7.36729 13 7.4999 13H14.4999C14.6325 13 14.7597 12.9473 14.8535 12.8536C14.9472 12.7598 14.9999 12.6326 14.9999 12.5C14.9999 12.3674 14.9472 12.2402 14.8535 12.1465C14.7597 12.0527 14.6325 12 14.4999 12H7.4999C7.36729 12 7.24011 12.0527 7.14635 12.1465C7.05258 12.2402 6.9999 12.3674 6.9999 12.5Z"
                  stroke="none"
                />
              </svg>
            )}
          </li>
        ))}
      </ul>
    </div>
  );
};
